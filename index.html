<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Bank Game</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <button class="stats-btn" id="stats-btn" onclick="showStats()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 3v18h18"></path>
          <path d="M7 16V9"></path>
          <path d="M12 16V6"></path>
          <path d="M17 16v-3"></path>
        </svg>
      </button>
      <h1>⭐ Word Bank</h1>
      <p>Create 5-letter words from your daily bank</p>
    </div>

    <div class="current-word">
      <div class="word-slot" id="slot-0"></div>
      <div class="word-slot" id="slot-1"></div>
      <div class="word-slot" id="slot-2"></div>
      <div class="word-slot" id="slot-3"></div>
      <div class="word-slot" id="slot-4"></div>
    </div>

    <div class="letter-bank" id="letter-bank"></div>

    <div class="controls">
      <button class="btn btn-clear" id="clear-btn" onclick="clearWord()">Clear</button>
      <button class="btn btn-back" id="back-btn" onclick="backspaceWord()">← Back</button>
      <button class="btn btn-submit" id="submit-btn" onclick="submitWord()">Submit</button>
    </div>

    <div class="message" id="message"></div>
  </div>

  <script>
    const letterScores = {
      'A': 1, 'B': 2, 'C': 2, 'D': 2, 'E': 1, 'F': 2, 'G': 2, 'H': 2, 'I': 1, 'J': 4, 'K': 3,
      'L': 1, 'M': 2, 'N': 1, 'O': 1, 'P': 2, 'Q': 5, 'R': 1, 'S': 1, 'T': 1, 'U': 1, 'V': 3,
      'W': 2, 'X': 4, 'Y': 2, 'Z': 4
    };

    const gameState = {
      currentWord: '',
      selectedLetters: [],
      letterBank: []
    };

    let elements = {};

    function cacheElements() {
      elements = {
        letterBankContainer: document.getElementById('letter-bank'),
        slots: [
          document.getElementById('slot-0'),
          document.getElementById('slot-1'),
          document.getElementById('slot-2'),
          document.getElementById('slot-3'),
          document.getElementById('slot-4')
        ],
        clearBtn: document.getElementById('clear-btn'),
        backBtn: document.getElementById('back-btn'),
        submitBtn: document.getElementById('submit-btn'),
        message: document.getElementById('message')
      };
    }

    function generateLetterBank() {
      const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      const bank = [];
      for (let i = 0; i < 12; i++) {
        const index = Math.floor(Math.random() * letters.length);
        bank.push(letters[index]);
      }
      return bank;
    }

    function createLetterBank() {
      const layout = [5, 4, 3];
      let letterIndex = 0;
      elements.letterBankContainer.innerHTML = '';

      layout.forEach(count => {
        const row = document.createElement('div');
        row.className = 'pyramid-row';

        for (let i = 0; i < count; i++) {
          const letter = gameState.letterBank[letterIndex];
          const currentIndex = letterIndex;
          const button = document.createElement('button');
          button.className = 'letter-btn';
          button.id = `letter-btn-${currentIndex}`;
          button.dataset.index = currentIndex;
          button.innerHTML = `${letter}<div class="letter-value">${letterScores[letter] || 0}</div>`;
          button.onclick = () => selectLetter(letter, currentIndex);

          row.appendChild(button);
          letterIndex++;
        }

        elements.letterBankContainer.appendChild(row);
      });
    }

    function updateUI() {
      for (let i = 0; i < 5; i++) {
        const slot = elements.slots[i];
        slot.textContent = gameState.currentWord[i] || '';
      }

      document.querySelectorAll('.letter-btn').forEach(button => {
        const index = parseInt(button.dataset.index, 10);
        button.disabled = gameState.selectedLetters.includes(index);
      });
    }

    function selectLetter(letter, index) {
      if (gameState.currentWord.length >= 5 || gameState.selectedLetters.includes(index)) return;
      gameState.currentWord += letter;
      gameState.selectedLetters.push(index);
      updateUI();
    }

    function clearWord() {
      gameState.currentWord = '';
      gameState.selectedLetters = [];
      updateUI();
    }

    function backspaceWord() {
      gameState.currentWord = gameState.currentWord.slice(0, -1);
      gameState.selectedLetters.pop();
      updateUI();
    }

    function submitWord() {
      if (gameState.currentWord.length !== 5) {
        showMessage('Word must be 5 letters!');
        return;
      }
      showMessage(`Submitted: ${gameState.currentWord}`);
      clearWord();
    }

    function showMessage(text) {
      elements.message.textContent = text;
      setTimeout(() => {
        elements.message.textContent = '';
      }, 2000);
    }

    document.addEventListener('DOMContentLoaded', () => {
      cacheElements();
      gameState.letterBank = generateLetterBank();
      createLetterBank();
      updateUI();
    });
  </script>
</body>
</html>

